# job240

## 1. delete&#x20;

```java
int delNum = session.createQuery("delete IrSprdLp a where a.baseYymm=:param")
                .setParameter("param", bssd).executeUpdate();
log.info("[{}] has been Deleted in Job:[{}] [BASE_YYMM: {}, COUNT: {}]"
                , Process.toPhysicalName(IrSprdLp.class.getSimpleName())
                , jobLog.getJobId()
                , bssd
                , delNum);
```

## 2. biz logic&#x20;

### 2.1. Esg240\_LpSprd.setLpFromSwMap

```java
List<IrSprdLp> kicsSpread1 = Esg240_LpSprd.setLpFromSwMap(bssd, "KICS", kicsSwMap);
kicsSpread1.stream().forEach(s -> session.save(s));

List<IrSprdLp> ifrsSpread1 = Esg240_LpSprd.setLpFromSwMap(bssd, "IFRS", ifrsSwMap);
ifrsSpread1.stream().forEach(s -> session.save(s));

List<IrSprdLp> ibizSpread1 = Esg240_LpSprd.setLpFromSwMap(bssd, "IBIZ", ibizSwMap);
ibizSpread1.stream().forEach(s -> session.save(s));				

List<IrSprdLp> saasSpread1 = Esg240_LpSprd.setLpFromSwMap(bssd, "SAAS", saasSwMap);
saasSpread1.stream().forEach(s -> session.save(s));
```

### 2.2.Esg240\_LpSprd.setLpFromCrdSprd&#x20;

```java
String lpCurveId = argInDBMap.getOrDefault("LP_CURVE_ID", "5010110");

List<IrSprdLp> kicsSpread2 = Esg240_LpSprd.setLpFromCrdSprd(bssd, "KICS", kicsSwMap, lpCurveId);
kicsSpread2.stream().forEach(s -> session.save(s));

List<IrSprdLp> ifrsSpread2 = Esg240_LpSprd.setLpFromCrdSprd(bssd, "IFRS", ifrsSwMap, lpCurveId);
ifrsSpread2.stream().forEach(s -> session.save(s));

List<IrSprdLp> ibizSpread2 = Esg240_LpSprd.setLpFromCrdSprd(bssd, "IBIZ", ibizSwMap, lpCurveId);
ibizSpread2.stream().forEach(s -> session.save(s));

List<IrSprdLp> saasSpread2 = Esg240_LpSprd.setLpFromCrdSprd(bssd, "SAAS", saasSwMap, lpCurveId);
saasSpread2.stream().forEach(s -> session.save(s));
```

### 2.3. Esg240\_LpSprd.setLpFromUsr

```java
List<IrSprdLp> kicsSpread3 = Esg240_LpSprd.setLpFromUsr(bssd, "KICS", kicsSwMap);
kicsSpread3.stream().forEach(s -> session.save(s));

List<IrSprdLp> ifrsSpread3 = Esg240_LpSprd.setLpFromUsr(bssd, "IFRS", ifrsSwMap);
ifrsSpread3.stream().forEach(s -> session.save(s));

List<IrSprdLp> ibizSpread3 = Esg240_LpSprd.setLpFromUsr(bssd, "IBIZ", ibizSwMap);
ibizSpread3.stream().forEach(s -> session.save(s));

List<IrSprdLp> saasSpread3 = Esg240_LpSprd.setLpFromUsr(bssd, "SAAS", saasSwMap);
saasSpread3.stream().forEach(s -> session.save(s));
```

## 3. log&#x20;

```java
session.flush();
session.clear();
completeJob("SUCCESS", jobLog);
```

